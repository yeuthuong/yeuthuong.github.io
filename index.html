<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
     <link rel="stylesheet" type="text/css" href="style.css">
     <link rel="stylesheet" type="text/css" href="style2.css">
     <link rel="stylesheet" type="text/css" href="style3.css">
     <link rel="stylesheet" type="text/css" href="style4.css">
     <link rel="stylesheet" type="text/css" href="style5.css">
     <!--meta viewport tag causes safari-disappear-bug when I run at native 2880x1880 setres.app -->

<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">

<link href='https://fonts.googleapis.com/css?family=Product+Sans' rel='stylesheet' type='text/css'>

<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<link href="https://fonts.googleapis.com/css?family=Arima+Madurai" rel="stylesheet">


      <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
      <script src="https://codepen.io/drewendly/pen/Kryagp.js"></script>
      <script src="https://player.vimeo.com/api/player.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.0/TweenMax.min.js"></script>
      <style>
        body {
          overflow-x: hidden; overflow-y: hidden;
        }
      </style>

  </head>

  <body  ng-app="myApp" ng-controller="myCtrl" ng-init="imageUrl = 'images/8.jpg'">
    <!-- NEW -->
    <canvas style="margin-top: -10rem" id="sakura" ng-show="!landing"></canvas>
    <div class="btnbg" ng-show="!landing">
    </div>

    <div id="landing" ng-show="landing==true">
      <div class="container">
        <div class="heart" ng-click="comein()">
          <svg width="128" height="128" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg"><path class="shape-heart" d="M64.425 19.75l-.46-.462c-13.72-13.717-35.96-13.717-49.677 0C.57 33.006.57 55.246 14.288 68.964l49.676 49.676.46-.46.46.46 49.677-49.676c13.72-13.718 13.72-35.958 0-49.676-13.715-13.717-35.955-13.717-49.673 0l-.46.46z" stroke="#FF4136" stroke-width="5" fill="transparent" fill-rule="evenodd"/></svg>
        </div>
        <svg  class="clickme" width="200" height="200" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><g fill="#fff" fill-rule="evenodd"><path d="M19.205 161.937c-.878.64-1.545 1.317-2 2.028-.454.71-.766 1.607-.934 2.69-.18 1.178-.26 2.223-.26 3.137.01.913.13 2.046.38 3.4.25 1.352.47 2.495.68 3.427.21.93.53 2.22.96 3.86l.32 1.23c.17.63.32 1.18.45 1.63l.36 1.38c1.72 6.6 3.92 10.33 6.61 11.21.51.15 1.23.23 2.15.23.92 0 1.75-.09 2.5-.29 1.91-.5 2.69-1.43 2.33-2.79-.09-.37-.32-.61-.67-.73-.35-.12-.75-.12-1.19 0-.24.38-.57.63-.99.74-.66.17-1.26.21-1.81.12-.56-.07-1.05-.22-1.47-.45-.42-.23-.81-.57-1.18-1.01-.37-.4-.69-.83-.94-1.28-.25-.45-.5-.98-.75-1.6-.37-.93-.7-1.98-1.01-3.15-.22-.86-.61-2.53-1.17-5.02-.44-1.97-.84-3.63-1.19-4.99l-.06-.26c-.41-1.58-.73-3.7-.96-6.37-.12-1.44-.03-2.66.27-3.66.3-1 .79-1.59 1.46-1.76l2.43-.64c.3-.1.53-.31.68-.63.15-.33.18-.67.09-1.02-.1-.38-.31-.66-.65-.84-.33-.18-.76-.2-1.28-.06-1.23.32-2.25.79-3.07 1.4zm21.626 12.81c-.36-1.393-.92-3.45-1.69-6.175-.77-2.74-1.33-4.798-1.69-6.175-.12-.487-.24-1.157-.33-2.01-.09-.854-.21-1.525-.33-2.012-.09-.352-.3-.62-.63-.804-.32-.18-.67-.22-1.02-.13-1.2.31-1.37 2.1-.52 5.36.28 1.08.81 2.66 1.57 4.76l.1.38c.72 2.76 1.61 6.62 2.68 11.6 1.08 5.01 1.97 8.88 2.68 11.62.11.42.36.77.75 1.04.39.28.78.37 1.17.26.64-.16 1.19-.48 1.65-.94 1.83-.47 3.42-.67 4.79-.6.41-.16.74-.41.99-.74s.32-.68.23-1.03c-.26-1.01-1.32-1.27-3.18-.78-.47.13-.87.24-1.18.34l-.95.3c-1.16.3-2.05-.73-2.67-3.09-.3-1.16-.63-2.54-.98-4.15s-.67-2.98-.96-4.1l-.16-.63c-.25-.97-.34-1.72-.26-2.24zm20.75-.218c-.79-2.7-1.31-4.52-1.56-5.46-.29-1.11-.66-2.77-1.13-4.98-.55-2.46-.93-4.11-1.15-4.95-.44-1.68-.92-3.26-1.45-4.74l2.66-.7c.39-.1.7-.33.94-.68.24-.35.31-.68.23-1-.07-.29-.31-.51-.71-.65-.37-.12-.93-.08-1.67.11l-6.18 1.61c-1.7.44-2.45 1.06-2.25 1.85.14.52.37.85.69.98.33.13.76.12 1.3-.02.22-.06.42-.12.6-.19.19-.07.38-.13.58-.18l.99-.26c.61 1.62 1.17 3.44 1.7 5.47.26 1.01.72 2.93 1.37 5.77.56 2.56 1.01 4.49 1.35 5.78.36 1.36.89 3.16 1.61 5.42.72 2.25 1.25 4.06 1.61 5.44l.04.36.04.34-1.47.38c-.2.07-.36.28-.48.63s-.15.67-.07.97c.2.77.92 1 2.15.68l.62-.22c.41-.03 1.42-.26 3.04-.68l2.28-.6c.46-.12.82-.38 1.08-.78.27-.4.34-.82.23-1.26-.22-.86-1.04-1.1-2.46-.73-.32.08-.59.16-.8.23-.22.07-.44.14-.68.2l-.68.18c-.07-.25-.12-.49-.16-.71l-.59-2.27c-.24-.92-.76-2.73-1.55-5.43zm12.64-26.94c-.88.64-1.54 1.31-2 2.02-.45.71-.76 1.6-.93 2.69-.18 1.18-.27 2.22-.26 3.13.01.91.13 2.04.37 3.4.25 1.35.47 2.49.68 3.42.21.93.53 2.22.96 3.86l.32 1.23c.17.64.32 1.18.46 1.63l.36 1.38c1.72 6.6 3.93 10.33 6.61 11.21.51.15 1.23.23 2.15.23.92 0 1.75-.09 2.49-.29 1.91-.5 2.69-1.43 2.33-2.79-.09-.37-.32-.61-.67-.73-.35-.11-.75-.11-1.19 0-.24.39-.57.63-1 .74-.66.17-1.26.21-1.81.12-.56-.07-1.05-.22-1.47-.45-.42-.23-.81-.57-1.18-1.01-.38-.41-.69-.83-.94-1.28-.25-.45-.5-.98-.75-1.59-.36-.93-.7-1.98-1.01-3.16-.22-.86-.61-2.53-1.17-5.02-.44-1.97-.84-3.63-1.19-4.99l-.06-.26c-.41-1.58-.73-3.7-.95-6.367-.12-1.44-.04-2.66.26-3.66s.78-1.59 1.46-1.77l2.43-.63c.3-.1.52-.31.67-.633.15-.33.18-.67.09-1.02-.1-.39-.32-.67-.65-.84-.33-.17-.76-.19-1.28-.06-1.23.32-2.25.785-3.07 1.39zm25.95-6.44c-.46-.14-.96-.14-1.5 0-.4.1-.89 1.15-1.45 3.15-.56 1.99-1.13 4.37-1.7 7.14l-.91 4.27-.48-1.84c-1.43-5.49-2.02-8.68-1.77-9.57l-.04-.15c-.11-.44-.36-.77-.76-1-.39-.23-.81-.29-1.25-.17-.72.19-1.15.65-1.29 1.38.51 1.93 1.07 4.74 1.69 8.43.65 3.88 1.21 6.71 1.68 8.49l4.09 15.66c.13.5.39.86.78 1.07.39.21.85.25 1.37.11.71-.19.96-.68.75-1.49l-2.49-9.55c-.91-3.49-1.07-6.65-.46-9.46.59 1.26 1.29 2.68 2.12 4.26 1.14 2.23 2.35 4.41 3.63 6.53 1.28 2.12 2.5 3.85 3.68 5.17 1.34 1.48 2.41 2.11 3.21 1.91.41-.11.72-.33.94-.66.22-.34.28-.7.18-1.09-.1-.39-.27-.73-.51-1.04-.24-.31-.6-.65-1.08-1.05l-.92-.76c-.73-.71-1.77-2.09-3.12-4.15-1.35-2.06-2.61-4.16-3.78-6.3-1.16-2.15-1.86-3.69-2.11-4.63l-.7-3.1c.13-.61.95-3.41 2.44-8.39.48-1.54.72-2.34.7-2.39-.11-.44-.4-.73-.86-.87zm50.24 7.86c1.02 2.87 1.73 5.08 2.14 6.62l.86 3.3c.24.99.52 2.09.84 3.3.56 2.15 1.38 3.08 2.46 2.8.51-.13.87-.47 1.08-1.01.21-.54.25-1.1.1-1.67-.07-.27-.23-.58-.48-.93l-.37-1.01c-.76-2.08-1.18-3.27-1.25-3.58l-.01-.03c-.16-.6-.37-1.51-.63-2.74l-.65-2.74c-.63-2.42-1.67-5.98-3.13-10.67-1.46-4.7-2.53-8.38-3.23-11.05-.11-.42-.39-.71-.85-.87-.45-.16-.93-.18-1.42-.05-.5.13-.9 1-1.18 2.62-.26 1.55-.42 3.58-.47 6.07-.08 3.85-.05 8.5.09 13.93.05 2.07.06 3.43.04 4.08-.83-1.74-2.39-4.49-4.67-8.26-2.28-3.77-4.44-7.12-6.48-10.04-2.04-2.92-3.29-4.32-3.75-4.2-.54.14-.98.37-1.32.68-.34.31-.46.68-.35 1.1.09.34.28.64.57.93.95 3.62 2.06 8.95 3.33 15.97 1.32 7.26 2.42 12.58 3.3 15.97.08.33.32.58.69.74.37.17.74.2 1.09.11.64-.17 1.05-.42 1.24-.76.18-.35.2-.81.04-1.4-.07-.27-.14-.52-.22-.75l-.25-.77c-.44-1.68-.96-3.85-1.57-6.53-.46-2.03-.87-3.93-1.25-5.7s-.84-4.008-1.39-6.717l-1.21-5.9c1.11 1.7 2.48 3.99 4.11 6.85 1.63 2.87 3.1 5.59 4.41 8.16 1.31 2.57 2.1 4.36 2.36 5.37.17.67.51 1.16 1 1.46.49.3 1.07.37 1.73.2.66-.17 1.07-2.1 1.23-5.78.145-3.39.17-7.52.076-12.37-.1-4.55-.14-7.07-.11-7.58.22.85.46 1.92.726 3.2.266 1.29.51 2.37.73 3.22.35 1.346 1.04 3.46 2.06 6.35zm14.39-24.11c-.82-.15-1.76-.2-2.82-.15-1.06.05-1.92.16-2.57.33-1.45.37-1.86 1.78-1.22 4.22.13.48.37 1.19.72 2.12.37 1.07.6 1.79.7 2.16.5 1.89 1.09 4.42 1.79 7.57.7 3.15 1.29 5.68 1.79 7.58.15.57.48 1.66.99 3.26.52 1.62.85 2.71.99 3.26l.34 1.07c.1.31.2.66.3 1.03l.36 1.36c.13.43.42.75.86.97.45.21.9.26 1.38.13l4.38-1.14c.63-.17 1.12-.43 1.49-.79.36-.37.48-.79.35-1.28-.22-.84-.98-1.09-2.3-.75l-2.11.6-1.67.52c-.06.01-.35-.94-.85-2.87-.21-.81-.57-2.38-1.09-4.72-.42-1.88-.79-3.45-1.11-4.69-.33-1.29-.72-2.58-1.17-3.87l1.32-.35c.49-.06.99-.15 1.5-.29.48-.13.83-.37 1.07-.73.24-.36.31-.73.22-1.09-.24-.94-1.2-1.19-2.87-.76-.39.1-.72.19-1 .29l-.82.26-.36-.767c-.17-.65-.45-1.9-.84-3.73-.31-1.48-.6-2.72-.86-3.73-.19-.755-.41-1.487-.65-2.196 1.06-.13 2.46-.15 4.18-.04.4-.28.7-.6.92-.95.22-.35.28-.71.18-1.06-.11-.42-.57-.7-1.4-.86z" fill="#fff"/><path d="M96.784 66.04c-.646-2.03-1.81-4.89-2.158-6.68 2.79 4.706 5.098 9.955 6.272 16.342.903 4.898.77 9.817.71 13.93-.006.503.342 1.387-.34 1.644-.552-7.663-1.52-15.944-4.484-25.235zM71.888 55.67c.155-.49.02-1.15.526-1.435 1.302 1.284 2.825 2.187 4.06 3.588-1.55-.68-2.9-1.704-4.586-2.153zm-1.443-5.447c-.265 1.036-1.143 1.9-.142 2.887-.42.71-.543 1.596-1.093 2.232-.276-.23-.753-.113-.83-.686.345-1.678 1.013-3.167 2.065-4.433zm.12-.032c.116-.88.952-1.35 1.4-2.05-.117 1.19-.7 1.58-1.4 2.06zm10.142-21.85c-1.976 3.87-4.066 7.68-5.544 11.83-3.297 4.71-7.293 9.55-10.556 13.94.102.55.78.95 1.353 1.2.617 4.59 5.23 4.31 8.815 4.92 1.413.25 2.397 1.02 3.73 1.87 1.253.79 2.623 1.44 3.523 2.05.913.62 1.266 1.44 2.507 1.15.11-.28.512-.38.445-.76.448-.02-.16-.77-.347-.81 1.444-1.74-1.726-2.08-2.898-3.11-.394-.35-.716-.87-1.11-1.26-.163-.16-.474-.3-.645-.48-.858-.89-2.532-2.39-3.358-3.38-1.18-.84-2.42-1.6-3.35-2.87.157-.97 1.323-1.05 2.14-1.21 4.176-.81 8.917-1.34 11.693.14 3.557 3.1 5.458 7.73 7.005 12.27 4.708 13.82 1.487 22.37 4.836 41.72.75 4.33 4.59 13.79 3.09 18.07-.207.6.294 1.09.592 2.05.253.81 1.59.76 1.926.61.785-.36-.607.61.608-1.21 2.107-7.27-2.79-19.15-2.1-26.95-.014-.44-.27-.47-.434-.66.477.29.57-1.15.617-1.59.22-2.2.234-4.49.268-6.8.06-4.47.292-9.08-.968-14.89-1.205-5.57-3.457-10.58-6.073-15.1-.268-.46-.51-1.31-1.142-1.38-.93-2.41-2.87-4.51-4.942-5.94-4.524-3.12-9.42-5.51-16.312-2.42.782-6.24 6.255-10.63 8.64-16.28-.25-.57-.775-.66-1.168-.98.878-1.74 2.336-3.82-.84-3.67z" fill="#fff"/></g></svg>
      </div>
    </div>


    <!--   <div id='' class=''></div>     ╱╲╱╲╱╲╱╲╱╲-->

    <div id='Reel-Player-BG' class='light-gradient-bg RP-wrap' ng-show="!landing" style="background: transparent">
        <b ng-click="changeImage()" style="width: 20rem; margin: auto; padding: 10px;">
          <div class="heart" >
            <svg width="128" height="128" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg"><path class="shape-heart" d="M64.425 19.75l-.46-.462c-13.72-13.717-35.96-13.717-49.677 0C.57 33.006.57 55.246 14.288 68.964l49.676 49.676.46-.46.46.46 49.677-49.676c13.72-13.718 13.72-35.958 0-49.676-13.715-13.717-35.955-13.717-49.673 0l-.46.46z" stroke="#FF4136" stroke-width="5" fill="transparent" fill-rule="evenodd"/></svg>
          </div>
        </b>
      <div class='SafariBUGwrapper'>
        <div id='' class='reel-player-cont amb-heavy-shadow'>
            <div class='rp-img-cont'  style="z-index=1 !important;">
              <img id='RP-GoldSands_DE' class='player-img' src="{{imageUrl}}">
            </div>
            <div id='' class='player-bar-top'>
               <h1 id='' class=''>Ngọc Thương</h1>
               <h2 id='' class=''>"Thanh xuân của chúng ta, bây giờ mới bắt đầu...."</h2>
              <p>Skip<i class="material-icons">navigate_next</i></p>

            </div>
            <div id='' class='player-bar-btm'>

                <div class="volume-slide-cont">
                    <div class="slider_horizontal">
                        <div class="progress">
                            <div class="handle"></div>
                        </div>
                    </div>
                </div>
                <div id='Play-Pause' class='center-button'>
                    <svg id="Play-SVG-Circle" class="">
                      <circle id="Circle-Outline"  class="" cy="50%" cx="50%" r="21em"/>
                      <circle id="Circle-Fill" class="" cy="50%" cx="50%" r="21em"/>
                      <circle id="Circle-gsap" class="" cy="50%" cx="50%" r="21em"/>
                    </svg>
                    <i class="material-icons ">play_arrow</i>
                </div>
                <div class="btm-right-cont">
                  <i class="material-icons i-fullscreen">code</i>
               </div>
              <div id='img-flex'>
                <img id='Btm-Img-Blur' src="https://scontent-sjc2-1.cdninstagram.com/t51.2885-15/e35/10655025_591989287644242_1826578012_n.jpg">
              </div>
            </div>

          <div id='' class='video-cont' style="z-index=1000 !important;">
            <div id='DE_Reel' class='video-BG'>
              <!-- <iframe id="video" src="https://player.vimeo.com/video/238966744"  webkitallowfullscreen mozallowfullscreen allowfullscreen ></iframe> -->
              <iframe id="video" src="https://player.vimeo.com/video/238966744" width="640" height="480" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
            </div>
          </div>
        </div>
      </div>
        <div id='volume-result' class=''></div>
    </div>

    <div class="bodyContent" id="scroll" ng-if="!landing">
      <h1 id="p0" style="font-family: 'Arima Madurai', cursive;">Rồi một ngày anh muốn nắm bàn tay,</h1>
      <h1 id="p1" style="font-family: 'Arima Madurai', cursive;">Khẽ thì thầm: "Lối này, theo anh nhé!"</h1>

      <h1 id="p2" style="font-family: 'Arima Madurai', cursive;">Từng vết chân in trên nền cát nhẹ,</h1>
      <h1 id="p3" style="font-family: 'Arima Madurai', cursive;">Em hỏi rằng: "Chúng mình sẽ đi đâu?"</h1>


      <h1 id="p4" style="font-family: 'Arima Madurai', cursive;">Anh siết chặt tay, gõ xuống mái đầu:</h1>
      <h1 id="p5" style="font-family: 'Arima Madurai', cursive;">"Chỉ cần có nhau, đến nơi nào chẳng được!"</h1>


      <h1 id="p6" style="font-family: 'Arima Madurai', cursive;">Em dỗi hờn dừng chân, không chịu bước:</h1>
      <h1 id="p7" style="font-family: 'Arima Madurai', cursive;">"Em muốn đến chỗ nào thật vui cơ!"</h1>


      <h1 id="p8" style="font-family: 'Arima Madurai', cursive;">Anh kéo vào lòng tất cả ngây thơ,</h1>
      <h1 id="p9" style="font-family: 'Arima Madurai', cursive;">Đặt chiếc hôn lên bờ môi run rẩy:</h1>

      <h1 id="p10" style="font-family: 'Arima Madurai', cursive;">"Thôi được rồi, mình đi về phía ấy!"</h1>
      <h1 id="p11" style="font-family: 'Arima Madurai', cursive;">Em kiễng chân nhìn theo hướng chỉ tay...</h1>
      <h1 id="p12" style="font-family: 'Arima Madurai', cursive;">"Phía ấy thì có gì hay?"</h1>

      <h1 id="p13" style="font-family: 'Arima Madurai', cursive;">Em tò mò lay lay ngón trỏ,</h1>
      <h1 id="p14" style="font-family: 'Arima Madurai', cursive;">Anh cười hiền ghé tai hỏi nhỏ:</h1>

      <h1 id="p15" style="font-family: 'Arima Madurai', cursive;">"Có hạnh phúc của riêng mình, em có muốn xem không?"</h1>
      <h1 id="p16" style="font-family: 'Arima Madurai', cursive;">Em bối rối cười trừ, má ửng hồng...</h1>
    </div>
    <div class="footer" style="padding-top: 0px !important; margin: 0px;">
      <audio id="myAudio" src="kiss.mp3" data-author="Yiruma" data-title="KISS THE RAIN">
      </audio>
      <canvas id="myCanvas" width="800" height="400"></canvas>
</div>
  </body>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mo-js/0.288.1/mo.js"></script>
   <script src="script.js"></script>
   <script src="script2.js"></script>
   <script src="script3.js"></script>

<!-- sakura shader -->
<script id="sakura_point_vsh" type="x-shader/x_vertex">
uniform mat4 uProjection;
uniform mat4 uModelview;
uniform vec3 uResolution;
uniform vec3 uOffset;
uniform vec3 uDOF;  //x:focus distance, y:focus radius, z:max radius
uniform vec3 uFade; //x:start distance, y:half distance, z:near fade start

attribute vec3 aPosition;
attribute vec3 aEuler;
attribute vec2 aMisc; //x:size, y:fade

varying vec3 pposition;
varying float psize;
varying float palpha;
varying float pdist;

//varying mat3 rotMat;
varying vec3 normX;
varying vec3 normY;
varying vec3 normZ;
varying vec3 normal;

varying float diffuse;
varying float specular;
varying float rstop;
varying float distancefade;

void main(void) {
    // Projection is based on vertical angle
    vec4 pos = uModelview * vec4(aPosition + uOffset, 1.0);
    gl_Position = uProjection * pos;
    gl_PointSize = aMisc.x * uProjection[1][1] / -pos.z * uResolution.y * 0.5;

    pposition = pos.xyz;
    psize = aMisc.x;
    pdist = length(pos.xyz);
    palpha = smoothstep(0.0, 1.0, (pdist - 0.1) / uFade.z);

    vec3 elrsn = sin(aEuler);
    vec3 elrcs = cos(aEuler);
    mat3 rotx = mat3(
        1.0, 0.0, 0.0,
        0.0, elrcs.x, elrsn.x,
        0.0, -elrsn.x, elrcs.x
    );
    mat3 roty = mat3(
        elrcs.y, 0.0, -elrsn.y,
        0.0, 1.0, 0.0,
        elrsn.y, 0.0, elrcs.y
    );
    mat3 rotz = mat3(
        elrcs.z, elrsn.z, 0.0,
        -elrsn.z, elrcs.z, 0.0,
        0.0, 0.0, 1.0
    );
    mat3 rotmat = rotx * roty * rotz;
    normal = rotmat[2];

    mat3 trrotm = mat3(
        rotmat[0][0], rotmat[1][0], rotmat[2][0],
        rotmat[0][1], rotmat[1][1], rotmat[2][1],
        rotmat[0][2], rotmat[1][2], rotmat[2][2]
    );
    normX = trrotm[0];
    normY = trrotm[1];
    normZ = trrotm[2];

    const vec3 lit = vec3(0.6917144638660746, 0.6917144638660746, -0.20751433915982237);

    float tmpdfs = dot(lit, normal);
    if(tmpdfs < 0.0) {
        normal = -normal;
        tmpdfs = dot(lit, normal);
    }
    diffuse = 0.4 + tmpdfs;

    vec3 eyev = normalize(-pos.xyz);
    if(dot(eyev, normal) > 0.0) {
        vec3 hv = normalize(eyev + lit);
        specular = pow(max(dot(hv, normal), 0.0), 20.0);
    }
    else {
        specular = 0.0;
    }

    rstop = clamp((abs(pdist - uDOF.x) - uDOF.y) / uDOF.z, 0.0, 1.0);
    rstop = pow(rstop, 0.5);
    //-0.69315 = ln(0.5)
    distancefade = min(1.0, exp((uFade.x - pdist) * 0.69315 / uFade.y));
}
</script>
<script id="sakura_point_fsh" type="x-shader/x_fragment">
#ifdef GL_ES
//precision mediump float;
precision highp float;
#endif

uniform vec3 uDOF;  //x:focus distance, y:focus radius, z:max radius
uniform vec3 uFade; //x:start distance, y:half distance, z:near fade start

const vec3 fadeCol = vec3(0.08, 0.03, 0.06);

varying vec3 pposition;
varying float psize;
varying float palpha;
varying float pdist;

//varying mat3 rotMat;
varying vec3 normX;
varying vec3 normY;
varying vec3 normZ;
varying vec3 normal;

varying float diffuse;
varying float specular;
varying float rstop;
varying float distancefade;

float ellipse(vec2 p, vec2 o, vec2 r) {
    vec2 lp = (p - o) / r;
    return length(lp) - 1.0;
}

void main(void) {
    vec3 p = vec3(gl_PointCoord - vec2(0.5, 0.5), 0.0) * 2.0;
    vec3 d = vec3(0.0, 0.0, -1.0);
    float nd = normZ.z; //dot(-normZ, d);
    if(abs(nd) < 0.0001) discard;

    float np = dot(normZ, p);
    vec3 tp = p + d * np / nd;
    vec2 coord = vec2(dot(normX, tp), dot(normY, tp));

    //angle = 15 degree
    const float flwrsn = 0.258819045102521;
    const float flwrcs = 0.965925826289068;
    mat2 flwrm = mat2(flwrcs, -flwrsn, flwrsn, flwrcs);
    vec2 flwrp = vec2(abs(coord.x), coord.y) * flwrm;

    float r;
    if(flwrp.x < 0.0) {
        r = ellipse(flwrp, vec2(0.065, 0.024) * 0.5, vec2(0.36, 0.96) * 0.5);
    }
    else {
        r = ellipse(flwrp, vec2(0.065, 0.024) * 0.5, vec2(0.58, 0.96) * 0.5);
    }

    if(r > rstop) discard;

    vec3 col = mix(vec3(1.0, 0.8, 0.75), vec3(1.0, 0.9, 0.87), r);
    float grady = mix(0.0, 1.0, pow(coord.y * 0.5 + 0.5, 0.35));
    col *= vec3(1.0, grady, grady);
    col *= mix(0.8, 1.0, pow(abs(coord.x), 0.3));
    col = col * diffuse + specular;

    col = mix(fadeCol, col, distancefade);

    float alpha = (rstop > 0.001)? (0.5 - r / (rstop * 2.0)) : 1.0;
    alpha = smoothstep(0.0, 1.0, alpha) * palpha;

    gl_FragColor = vec4(col * 0.5, alpha);
}
</script>
<!-- effects -->
<script id="fx_common_vsh" type="x-shader/x_vertex">
uniform vec3 uResolution;
attribute vec2 aPosition;

varying vec2 texCoord;
varying vec2 screenCoord;

void main(void) {
    gl_Position = vec4(aPosition, 0.0, 1.0);
    texCoord = aPosition.xy * 0.5 + vec2(0.5, 0.5);
    screenCoord = aPosition.xy * vec2(uResolution.z, 1.0);
}
</script>
<script id="bg_fsh" type="x-shader/x_fragment">
#ifdef GL_ES
//precision mediump float;
precision highp float;
#endif

uniform vec2 uTimes;

varying vec2 texCoord;
varying vec2 screenCoord;

void main(void) {
    vec3 col;
    float c;
    vec2 tmpv = texCoord * vec2(0.8, 1.0) - vec2(0.95, 1.0);
    c = exp(-pow(length(tmpv) * 1.8, 2.0));
    col = mix(vec3(0.02, 0.0, 0.03), vec3(0.96, 0.98, 1.0) * 1.5, c);
    gl_FragColor = vec4(col * 0.5, 1.0);
}
</script>
<script id="fx_brightbuf_fsh" type="x-shader/x_fragment">
#ifdef GL_ES
//precision mediump float;
precision highp float;
#endif
uniform sampler2D uSrc;
uniform vec2 uDelta;

varying vec2 texCoord;
varying vec2 screenCoord;

void main(void) {
    vec4 col = texture2D(uSrc, texCoord);
    gl_FragColor = vec4(col.rgb * 2.0 - vec3(0.5), 1.0);
}
</script>
<script id="fx_dirblur_r4_fsh" type="x-shader/x_fragment">
#ifdef GL_ES
//precision mediump float;
precision highp float;
#endif
uniform sampler2D uSrc;
uniform vec2 uDelta;
uniform vec4 uBlurDir; //dir(x, y), stride(z, w)

varying vec2 texCoord;
varying vec2 screenCoord;

void main(void) {
    vec4 col = texture2D(uSrc, texCoord);
    col = col + texture2D(uSrc, texCoord + uBlurDir.xy * uDelta);
    col = col + texture2D(uSrc, texCoord - uBlurDir.xy * uDelta);
    col = col + texture2D(uSrc, texCoord + (uBlurDir.xy + uBlurDir.zw) * uDelta);
    col = col + texture2D(uSrc, texCoord - (uBlurDir.xy + uBlurDir.zw) * uDelta);
    gl_FragColor = col / 5.0;
}
</script>
<!-- effect fragment shader template -->
<script id="fx_common_fsh" type="x-shader/x_fragment">
#ifdef GL_ES
//precision mediump float;
precision highp float;
#endif
uniform sampler2D uSrc;
uniform vec2 uDelta;

varying vec2 texCoord;
varying vec2 screenCoord;

void main(void) {
    gl_FragColor = texture2D(uSrc, texCoord);
}
</script>
<!-- post processing -->
<script id="pp_final_vsh" type="x-shader/x_vertex">
uniform vec3 uResolution;
attribute vec2 aPosition;
varying vec2 texCoord;
varying vec2 screenCoord;
void main(void) {
    gl_Position = vec4(aPosition, 0.0, 1.0);
    texCoord = aPosition.xy * 0.5 + vec2(0.5, 0.5);
    screenCoord = aPosition.xy * vec2(uResolution.z, 1.0);
}
</script>
<script id="pp_final_fsh" type="x-shader/x_fragment">
#ifdef GL_ES
//precision mediump float;
precision highp float;
#endif
uniform sampler2D uSrc;
uniform sampler2D uBloom;
uniform vec2 uDelta;
varying vec2 texCoord;
varying vec2 screenCoord;
void main(void) {
    vec4 srccol = texture2D(uSrc, texCoord) * 2.0;
    vec4 bloomcol = texture2D(uBloom, texCoord);
    vec4 col;
    col = srccol + bloomcol * (vec4(1.0) + srccol);
    col *= smoothstep(1.0, 0.0, pow(length((texCoord - vec2(0.5)) * 2.0), 1.2) * 0.5);
    col = pow(col, vec4(0.45454545454545)); //(1.0 / 2.2)

    gl_FragColor = vec4(col.rgb, 1.0);
    gl_FragColor.a = 1.0;
}
</script>
<script>
  // $('#RP-GoldSands_DE').fadeOut(8000, function() {
  //       $('#RP-GoldSands_DE').attr("src","images/2.jpg");
  //       $('#RP-GoldSands_DE').fadeIn(4000);
  //   });

  $("#p0").delay(7000).animate({ opacity: 0 })
  $("#p1").delay(12000).animate({ opacity: 0 })
  $("#p2").delay(17000).animate({ opacity: 0 })
  $("#p3").delay(22000).animate({ opacity: 0 })
  $("#p4").delay(27000).animate({ opacity: 0 })
  $("#p5").delay(32000).animate({ opacity: 0 })
  $("#p6").delay(37000).animate({ opacity: 0 })
  $("#p7").delay(42000).animate({ opacity: 0 })
  $("#p8").delay(47000).animate({ opacity: 0 })
  $("#p9").delay(52000).animate({ opacity: 0 })
  $("#p10").delay(57000).animate({ opacity: 0 })
  $("#p11").delay(62000).animate({ opacity: 0 })
  $("#p12").delay(67000).animate({ opacity: 0 })
  $("#p13").delay(72000).animate({ opacity: 0 })
  $("#p14").delay(77000).animate({ opacity: 0 })
  $("#p15").delay(82000).animate({ opacity: 0 })
  $("#p16").delay(87000).animate({ opacity: 0 })
  $("#scroll").delay(87000).fadeOut();
</script>
<script>

</script>

<script>
var app = angular.module('myApp', []);
app.controller('myCtrl', function($scope, $timeout) {
    var images = [
      "1.jpg",
      "2.jpg",
      "3.jpg",
      "4.jpg",
      "5.jpg",
      "6.jpg",
      "7.jpg",
      "8.jpg",
      "9.jpg",
    ];

    $scope.changeImage = function() {
      var idx = Math.floor(Math.random() * 9);
      if (idx < 10 && idx >=0) {
        $scope.imageUrl = "images/" + images[idx];
      }
    }

    $scope.landing = true;
    $scope.comein = function() {
      $timeout(function () {
        // $("#landing").fadeout();
        $scope.landing = false;
      }, 2000);
    }
});
</script>
<script src="js/visualizer.js"></script>
</html>
